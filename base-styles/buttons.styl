$_defaultButtonSize = 13px;

$apiaryButton(fontSize = $_defaultButtonSize)
  font-family $baseFont // Since Chrome may overwrite defaults
  display inline-flex // Let's keep button as inline element, with flex positioning
  margin 0 // normalize it for Safari
  color white
  padding 0 fontSize // So we keep the scale of the button
  height ceil(fontSize * 2.75)
  align-items center
  justify-content center
  border none
  border-radius 4px
  font-size fontSize
  font-weight 600
  -webkit-appearance none // To prevent default styles on iOS
  background-color $primaryBaseColor
  position relative
  text-decoration none
  cursor pointer
  overflow hidden
  user-select none // Button value shouldn't be selectable
  // Remove webkit highlight on tap, since we have :active state
  -webkit-tap-highlight-color rgba(0,0,0,0)
  -webkit-tap-highlight-color transparent
  > div
    // Firefox fix for <button> element (also applicable for Safari in some cases)
    // use <button><div>Value</div></button>
    // https://bugzilla.mozilla.org/show_bug.cgi?id=984869
    // http://stackoverflow.com/questions/24289251/flexbox-not-working-in-buttons-in-firefox
    display flex
    align-items center
  &:hover
    color white
    background-color darken($primaryBaseColor, 20%)
    text-decoration none
  &:active // Active styling to have a "click"
    box-shadow inset 0 1px 4px rgba(0, 0, 0, 0.35)
  &:disabled // Work only with HTML attribute
    background-color #D0D6DF
    cursor not-allowed
    &:hover
      background-color darken(#D0D6DF, 10%)

// Predefined button styles mixins
// fontSize is specified this way so you can override default font-size on base $apiaryButton mixin
$apiaryButtonPrimary(fontSize = $_defaultButtonSize)
  $apiaryButton(fontSize)
  background-color $primaryColor
  &:hover
    background-color $primaryColorHover

$apiaryButtonSecondary(fontSize = $_defaultButtonSize)
  $apiaryButton(fontSize)
  background-color $secondaryColor
  &:hover
    background-color $secondaryColorHover

$apiaryButtonGhost(fontSize = $_defaultButtonSize)
  $apiaryButton(fontSize)
  background-color white
  border 1px solid #D5DEED
  box-shadow 0 1px 1px 0 #F0F1F4
  color $primaryBaseColor
  &:hover
    color #000
    background-color white
    border 1px solid #a6b9d9

$apiaryButtonLink(fontSize = $_defaultButtonSize)
  $apiaryButton(fontSize)
  color $linkColor
  background-color transparent
  &:hover
    background-color transparent
    color $linkColorHover
  &:active
    box-shadow none // Remove :active styles
  &:disabled
    background-color transparent
    cursor not-allowed
    &:hover
      background-color transparent
